{% extends "base.html" %}{% block title %}Kliniki • PetNavigator{% endblock %}
{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h4 m-0">Kliniki</h1>
  <div class="d-flex align-items-center gap-2">
    <span class="hint">Dzień</span>
    <input type="date" id="global-date" class="form-control form-control-sm" value="{{ now|date:'Y-m-d' }}">
  </div>
</div>

<div class="row g-3">
  {% for c in clinics %}
  <div class="col-12 col-md-6">
    <div class="card p-3 card-hover">
      <div class="list-row">
        <div>
          <div class="fw-semibold">{{ c.name }}</div>
          <div class="item-muted">{{ c.city }} — {{ c.address }}</div>
        </div>
        <button class="btn btn-outline-primary"
          hx-get="{% url 'clinic_slots' c.id %}"
          hx-vals='js:{"date": document.getElementById("global-date").value}'
          hx-target="#slots-{{c.id}}" hx-swap="innerHTML">
          Pokaż terminy
        </button>
      </div>
      <div id="slots-{{c.id}}" class="mt-3"></div>
    </div>
  </div>
  {% empty %}<p class="hint">Brak klinik.</p>{% endfor %}
</div>
{% endblock %}
